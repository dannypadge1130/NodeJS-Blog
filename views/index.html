<!DOCTYPE html>

<html lang="en">

	<head>
		<title>NodeJS Blog</title>

		<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" rel="stylesheet">

		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.10/angular.min.js"></script>


		<script type="text/javascript">
			(function () {
				var app = angular.module("app", []);

				var MainController = function($scope, $http) {
							
					$http.get('/api/blogentries').then(function(response) {
							$scope.entries = response.data;
					});
				};
				
				app.controller("MainController", ["$scope", "$http",MainController]);

			}());
		</script>
	
	<head>

	<body ng-app="app">
		
		<h1>Dan's Blog</h1>
		<a href="/create">Create New Entry</a>


		<div ng-controller="MainController">
			<div ng-repeat="entry in entries.blogentries">
				<p>Title: {{entry.title}}</p>
				<p>Content: {{entry.post}}</p>
			</div>
		</div>

	</body>

</html>